<!DOCTYPE html>
<html class="loading" dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>6.2.2.6 Пример таблицы маршрутизации маршрутизатора IPv4</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_6.2.2.6_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="media-container">
      <iframe id="media" alt="interactive graphic"></iframe>
    </div>
    <div id="text-container">
      <div id="text">
        <h1>Пример таблицы маршрутизации маршрутизатора IPv4</h1>
        <div>
<p>Предположим, что ПК1 (PC1) с IP-адресом 192.168.10.10 необходимо отправить пакет на другой узел в этой же сети. Вначале ПК1 (PC1) обратился бы к таблице маршрутизации IPv4 на основе IP-адреса назначения. Затем ПК1 (PC1) определил бы, что узел находится в той же сети, и просто отправил пакет через свой интерфейс (для которого указан параметр «On-link»).</p>
<p></p>
<p>
<b>Примечание</b>. Маршрутизатор R1 не участвует в обработке пакета. Если ПК1 (PC1) передаёт пакет к какой-либо сети, отличной от его локальной сети, затем он должен использовать сервисы маршрутизатора R1 и переслать пакеты на его локальный маршрут по умолчанию (192.168.10.1).</p>
<p></p>
<p>Следующие примеры демонстрируют, как узел и маршрутизатор принимают решения о маршрутизации пакетов на основе данных, представленных в таблицах маршрутизации.</p>
<p></p>
<p>Пример 1. ПК1 (PC1) необходимо проверить подключение к своему локальному шлюзу по умолчанию по адресу 192.168.10.1 (интерфейс маршрутизатора). </p>
<p>1. Вначале ПК1 (PC1) обращается к таблице маршрутизации IPv4 на основе IP-адреса назначения.</p>
<p>2. ПК1 (PC1) определяет, что узел находится в той же сети, и просто отправляет пакет эхо-запроса через его интерфейс (для которого указан параметр «On-link»).</p>
<p>3. Маршрутизатор R1 получает пакет на свой интерфейс Gigabit Ethernet 0/0 (G0/0) и проверяет IP-адрес назначения.</p>
<p>4. R1 обращается к таблице маршрутизации.</p>
<p>5. R1 сопоставляет IP-адрес назначения с записью таблицы маршрутизации <b>L 192.168.10.1/32</b> и устанавливает, что этот маршрут указывает на его собственный локальный интерфейс, как показано на рис. 1.</p>
<p>6. Маршрутизатор R1 открывает оставшуюся часть пакета IP и отправляет соответствующий ответ.</p>
<p></p>
<p>Пример 2. ПК1 (PC1) необходимо отправить пакет на ПК2 (PC2) (192.168.11.10). </p>
<p>1. ПК1 (PC1) сверяется с таблицей маршрутизации IPv4 и обнаруживает, что точное совпадение отсутствует.</p>
<p>2. Следовательно, ПК1 (PC1) использует всю сеть маршрутов (0.0.0.0) и пересылает пакет с помощью локального маршрута по умолчанию (192.168.10.1).</p>
<p>3. Маршрутизатор R1 получает пакет на свой интерфейс Gigabit Ethernet 0/0 (G0/0) и проверяет IP-адрес назначения (192.168.11.10).</p>
<p>4. R1 просматривает свою таблицу маршрутизации и сопоставляет IP-адрес назначения с записью в таблице маршрутизации <b>C 192.168.11.0/24</b>, как показано на рис. 2.</p>
<p>5. R1 пересылает пакет из своего интерфейса Gigabit Ethernet 0/1 (G0/1) с прямым подключением.</p>
<p>6. ПК2 (PC2) получает пакет и обращается к таблице маршрутизации IPv4 узла.</p>
<p>7. ПК2 (PC2) устанавливает, что пакет адресован именно ему, открывает оставшуюся часть пакета и отправляет соответствующий ответ.</p>
<p></p>
<p>Пример 3. ПК1 (PC1) необходимо отправить пакет на адрес 209.165.200.226: </p>
<p>1. ПК1 (PC1) сверяется с таблицей маршрутизации IPv4 и обнаруживает, что точное совпадение отсутствует.</p>
<p>2. Следовательно, ПК1 (PC1) использует маршрут по умолчанию (0.0.0.0/0) и пересылает пакет с помощью шлюза по умолчанию (192.168.10.1).</p>
<p>3. Маршрутизатор R1 получает пакет на свой интерфейс Gigabit Ethernet 0/0 (G0/0) и проверяет IP-адрес назначения (209.165.200.226).</p>
<p>4. R1 просматривает свою таблицу маршрутизации и сопоставляет IP-адрес назначения с записью в таблице маршрутизации <b>C 209.165.200.224/30</b>, как показано на рис. 3.</p>
<p>5. R1 пересылает этот пакет за пределы интерфейса Serial 0/0/0 (S0/0/0) с прямым подключением.</p>
<p></p>
<p>Пример 4. ПК1 (PC1) необходимо отправить пакет на узел с IP-адресом 10.1.1.10. </p>
<p>1. ПК1 (PC1) сверяется с таблицей маршрутизации IPv4 и обнаруживает, что точное совпадение отсутствует.</p>
<p>2. Следовательно, ПК1 (PC1) использует всю сеть маршрутов (0.0.0.0) и пересылает пакет на свой локальный маршрут по умолчанию (192.168.10.1).</p>
<p>3. Маршрутизатор R1 получает пакет на свой интерфейс Gigabit Ethernet 0/0 (G0/0) и проверяет IP-адрес назначения (10.1.1.10).</p>
<p>4. R1 просматривает свою таблицу маршрутизации и сопоставляет IP-адрес назначения с записью в таблице маршрутизации <b>D 10.1.1.0/24</b>, как показано на рис. 4.</p>
<p>5. R1 определяет, что он должен отправить пакет на адрес следующего перехода 209.165.200.226.</p>
<p>6. Маршрутизатор R1 ещё раз просматривает свою таблицу маршрутизации и сопоставляет IP-адрес назначения с записью в таблице маршрутизации <b>C 209.165.200.224/30</b>, как показано на рис. 4.</p>
<p>7. R1 пересылает этот пакет за пределы интерфейса Serial 0/0/0 (S0/0/0) с прямым подключением.</p>
</div>
      </div>
      <div id="text-handle" title="Изменить размер"></div>
    </div>
    <div id="login">Для получения доступа к этому курсу войдите в систему <a href="http://netacad.com">netacad.com</a>.</div>
  </body>
</html>
