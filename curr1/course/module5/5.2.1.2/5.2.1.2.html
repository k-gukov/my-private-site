<!DOCTYPE html>
<html class="loading" dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>5.2.1.2 Функции ARP</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_5.2.1.2_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="media-container">
      <iframe id="media" alt="interactive graphic"></iframe>
    </div>
    <div id="text-container">
      <div id="text">
        <h1>Функции ARP</h1>
        <div>
<p>
<b>Сопоставление адресов IPv4 и МАС-адресов</b>
</p>
<p>Чтобы кадр можно было поместить в среду передачи данных локальной сети, ему необходим MAC-адрес назначения. Когда пакет отправляется к канальному уровню для инкапсуляции в кадре, узел обращается к таблице в его памяти, чтобы найти адрес канального уровня, который сопоставлен с IPv4-адресом назначения. Эта таблица называется таблицей ARP или кэшем ARP. Таблица ARP хранится в оперативной памяти устройства. </p>
<p></p>
<p>Каждая запись или строка в таблице ARP связывает IP-адрес с MAC-адресом. Мы называем отношения между двумя значениями сопоставлением — это означает, что IP-адрес можно найти в таблице и с его помощью определить соответствующий MAC-адрес. Таблица ARP временно сохраняет (кэширует) сопоставление устройств в локальной сети. </p>
<p></p>
<p>Чтобы начать процесс, узел передачи пытается определить MAC-адрес, сопоставленный с IPv4-адресом назначения. Если это сопоставление в таблице будет найдено, узел использует MAC-адрес в качестве MAC-адреса назначения в кадре, который инкапсулирует пакет IPv4. Затем кадр кодируется в сетевой среде передачи данных. </p>
<p></p>
<p>
<b>Сохранение таблицы ARP</b>
</p>
<p>Таблица ARP сохраняется динамически. Существуют два способа, с помощью которых устройство может собирать MAC-адреса. Первый способ — мониторинг трафика, который появляется в сегменте локальной сети. Когда узел получает кадры из среды передачи данных, он может зарегистрировать IP- и MAC-адреса источника в виде сопоставления в таблице ARP. По мере передачи кадров по сети устройство заполняет таблицу ARP, добавляя пары адресов. </p>
<p></p>
<p>Второй способ получения пары адресов для устройства — отправка запроса ARP, как показано на рисунке. Запрос ARP представляет собой широковещательную рассылку уровня 2 на все устройства в локальной сети Ethernet. Запрос ARP содержит IP-адрес узла назначения и MAC-адрес широковещательной рассылки, FFFF.FFFF.FFFF. Поскольку это широковещательная рассылка, все узлы в локальной сети Ethernet получат её и обработают содержимое. Ответ поступит от того узла, у которого IP-адрес совпадает с IP-адресом в запросе ARP. Ответ будет представлен в виде кадра одноадресной рассылки, который содержит MAC-адрес, соответствующий IP-адресу в запросе. Затем этот ответ будет использован для добавления новой записи в таблицу ARP отправляющего узла.</p>
<p></p>
<p>К записям в таблице ARP добавляются временные метки — для этого используется практически такая же процедура, что и при добавлении временных меток для записей таблиц MAC-адресов в коммутаторах. Если к моменту истечения действия временной отметки устройство не получит кадр от какого-либо определённого устройства, запись для этого устройства будет удалена из таблицы ARP.</p>
<p></p>
<p>Кроме того, в таблицу ARP можно добавлять статические записи сопоставления, но это выполняется не часто. Срок действия статических записей в таблице ARP не истекает со временем, поэтому их необходимо удалять вручную.</p>
</div>
      </div>
      <div id="text-handle" title="Изменить размер"></div>
    </div>
    <div id="login">Для получения доступа к этому курсу войдите в систему <a href="http://netacad.com">netacad.com</a>.</div>
  </body>
</html>
