<!DOCTYPE html>
<html class="loading" dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>8.3.1.1 Сообщения ICMPv4 и ICMPv6</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_8.3.1.1_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="media-container">
      <iframe id="media" alt="interactive graphic"></iframe>
    </div>
    <div id="text-container">
      <div id="text">
        <h1>Сообщения ICMPv4 и ICMPv6</h1>
        <div>
<p>Хотя IP не является надёжным протоколом, набор протоколов TCP/IP обеспечивает отправку сообщений даже в случае возникновения каких-либо ошибок. Эти сообщения отправляются с помощью ICMP-сервисов. Назначение таких сообщений — предоставлять отзывы о проблемах, связанных с обработкой IP-пакетов в определённых условиях, а не повышать надёжность протокола IP. Из соображений безопасности ICMP-сообщения не обязательны, а часто даже не разрешаются в рамках сети.</p>
<p></p>
<p>ICMP может использоваться как с IPv4, так и с IPv6. ICMPv4 — это протокол обмена сообщениями для IPv4. Протокол ICMPv6 предоставляет те же сервисы для IPv6, но при этом включает в себя дополнительные функциональные возможности. В рамках данного курса термин ICMP будет использоваться для обозначения как ICMPv4, так и ICMPv6.</p>
<p></p>
<p>Существует множество типов ICMP-сообщений, а также причин их отправки. Рассмотрим некоторые наиболее распространённые сообщения. </p>
<p></p>
<p>ICMP-сообщения, общие для ICMPv4 и ICMPv6, включают в себя:</p>
<p>
<ul>
<li>Подтверждение узла</li>
</ul>
</p>
<p>
<ul>
<li>Назначение или услуга недоступны</li>
</ul>
</p>
<p>
<ul>
<li>Истечение времени</li>
</ul>
</p>
<p>
<ul>
<li>Переадресация маршрутов</li>
</ul>
</p>
<p></p>
<p>
<b>Подтверждение узла</b>
</p>
<p>Эхо-запрос по протоколу ICMP можно использовать, чтобы определить, функционирует ли узел. Локальный узел отправляет узлу эхо-запрос ICMP. Если узел доступен, узел назначения отправляет эхо-ответ. На рисунке нажмите кнопку «Воспроизведение», чтобы посмотреть анимационное представление, иллюстрирующее принцип работы эхо-запроса и эхо-ответа ICMP. Такое использование эхо-запросов по протоколу ICMP заложено в основу служебной программы проверки связи. </p>
<p></p>
<p>
<b>Назначение или услуга недоступны</b>
</p>
<p>Когда узел или шлюз получает пакет, который не может доставить, он может использовать ICMP-сообщение «Назначение недоступно», чтобы сообщить источнику о том, что назначение или услуга для них недоступны. Такое сообщение содержит код, сообщающий, что пакет не может быть доставлен.</p>
<p></p>
<p>Коды о недоступном назначении для ICMPv4 включают в себя:</p>
<p>
<ul>
<li>0 - сеть недоступна. </li>
</ul>
</p>
<p>
<ul>
<li>1 - узел недоступен.</li>
</ul>
</p>
<p>
<ul>
<li>2 - протокол недоступен.</li>
</ul>
</p>
<p>
<ul>
<li>3 - порт недоступен.</li>
</ul>
</p>
<p></p>
<p>
<b>Примечание</b>. За исключением некоторых различий, протокол ICMPv6 обладает схожими кодами для сообщений о недоступном назначении.</p>
<p></p>
<p>
<b>Истечение времени</b>
</p>
<p>Сообщение ICMPv4 об истечении времени используется маршрутизатором для указания на то, что пакет переслать невозможно, поскольку значение в поле «Время жизни» (TTL) пакета было изменено на 0. Если маршрутизатор получает пакет и изменяет значение в поле «Время жизни» (TTL) IPv4-пакета на ноль, он отбрасывает пакет и отправляет в узел источника сообщение об истечении времени.</p>
<p></p>
<p>Также протокол ICMPv6 отправляет сообщение об истечении времени в том случае, если маршрутизатор не может переслать пакет IPv6 ввиду того, что пакет истек. В протоколе IPv6 поле «Время жизни» (TTL) отсутствует. Для указания на то, что срок жизни пакета истёк, им используется поле «Ограничение перехода».</p>
<p></p>
<p>
<b>Переадресация маршрутов </b>
</p>
<p>Маршрутизатор может использовать сообщение переадресации ICMP, чтобы сообщить узлам в сети, что для определённого назначения доступен лучший маршрут. Это сообщение может использоваться только в том случае, если узел источника находится в той же физической сети, что и шлюзы. </p>
<p></p>
<p>Оба протокола ICMPv4 и ICMPv6 используют сообщения переадресации маршрута.</p>
</div>
      </div>
      <div id="text-handle" title="Изменить размер"></div>
    </div>
    <div id="login">Для получения доступа к этому курсу войдите в систему <a href="http://netacad.com">netacad.com</a>.</div>
  </body>
</html>
