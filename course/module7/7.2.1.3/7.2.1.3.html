<!DOCTYPE html>
<html class="loading" dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>7.2.1.3 Установление TCP-соединения и его завершение</title>
    <!-- Content -->
    <link rel="stylesheet" type="text/css" href="../../common-ext/styles/page.css"/>
    <script type="text/javascript" src="../../common-ext/scripts/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/permission.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script type="text/javascript" src="media/override.js"></script>
    <script>
      var media_transcript_file = "media_7.2.1.3_longdesc.txt";
    </script>
  </head>
  <body>
    <div id="media-container">
      <iframe id="media" alt="interactive graphic"></iframe>
    </div>
    <div id="text-container">
      <div id="text">
        <h1>Установление TCP-соединения и его завершение</h1>
        <div>
<p>В некоторых странах при встрече двух человек принято обмениваться рукопожатиями. Рукопожатие рассматривается обеими сторонами как сигнал для дружеского приветствия. Подключения в сети осуществляются примерно так же. При первом рукопожатии (на компьютерном языке это называется рукопожатием) отправляется запрос синхронизации. При втором рукопожатии первоначальный запрос синхронизации подтверждается, после чего согласовываются параметры подключения в противоположном направлении. Третий этап рукопожатия — это подтверждение, которое используется для информирования узла назначения о том, что обе стороны согласны установить подключение.</p>
<p>Если два узла взаимодействуют с использованием протокола TCP, соединение устанавливается до того, как обмен данными будет возможен. По завершении обмена данными все сеансы прекращаются, а соединение прерывается. Механизмы подключения и осуществления сеанса связи включают в себя функции TCP, обеспечивающие надёжность. На рисунке показаны этапы установления и прекращения TCP-соединения. </p>
<p></p>
<p>Узлы отслеживают каждый сегмент данных, передаваемых во время сеанса, и обмениваются информацией о полученных данных с использованием сведений в заголовке TCP. TCP — это полнодуплексный протокол, в котором каждое соединение представляет два односторонних потока обмена данными, или сеанса. Для установления связи узлы используют трёхстороннее рукопожатие. Биты управления в заголовке TCP обозначают этап и состояние подключения. При трёхстороннем рукопожатии выполняются следующие процессы.</p>
<p>
<ul>
<li>Сначала устанавливается, присутствует ли устройство назначения в сети.</li>
</ul>
</p>
<p>
<ul>
<li>Затем проверяется, имеется ли на устройстве назначения активный сервис и принимает ли он запросы на номер порта назначения, который инициирующий клиент планирует использовать для сеанса.</li>
</ul>
</p>
<p>
<ul>
<li>Далее устройству назначения сообщается, что клиент источника планирует установить сеанс связи на этом номере порта.</li>
</ul>
</p>
<p></p>
<p>При подключениях по протоколу TCP клиент узла устанавливает связь с сервером. Ниже перечислены три шага для установления TCP-соединения.</p>
<p>
<b>Шаг 1.</b> Инициирующий клиент запрашивает сеанс связи клиент-сервер с сервером.</p>
<p>
<b>Шаг 2.</b> Сервер подтверждает сеанс связи клиент-сервер и запрашивает сеанс связи сервер-клиент. </p>
<p>
<b>Шаг 3.</b> Инициирующий клиент подтверждает сеанс связи сервер-клиент.</p>
<p></p>
<p>Используйте кнопки 1—3 на рисунке, чтобы просмотреть процесс установки TCP-соединения.</p>
<p></p>
<p>Чтобы понять процесс трёхстороннего рукопожатия, посмотрите на различные значения данных, которыми обмениваются два узла. Заголовок сегмента TCP содержит шесть 1-битных полей с контрольной информацией, которая используется для управления процессами TCP. Эти поля приведены ниже. </p>
<p></p>
<p>
<ul>
<li>
<b>URG</b> — поле «Указатель важности» задействовано</li>
</ul>
</p>
<p>
<ul>
<li>
<b>ACK</b> — поле «Номер подтверждения» задействовано</li>
</ul>
</p>
<p>
<ul>
<li>
<b>PSH</b> — протолкнуть данные</li>
</ul>
</p>
<p>
<ul>
<li>
<b>RST</b> — оборвать соединение</li>
</ul>
</p>
<p>
<ul>
<li>
<b>SYN</b> — синхронизировать порядковые номера</li>
</ul>
</p>
<p>
<ul>
<li>
<b>FIN</b> — больше нет данных от отправителя</li>
</ul>
</p>
<p></p>
<p>Поля ACK и SYN имеют отношение к рассматриваемому анализу трёхстороннего рукопожатия.</p>
</div>
      </div>
      <div id="text-handle" title="Изменить размер"></div>
    </div>
    <div id="login">Для получения доступа к этому курсу войдите в систему <a href="http://netacad.com">netacad.com</a>.</div>
  </body>
</html>
